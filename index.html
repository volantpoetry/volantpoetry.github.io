<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Volant Poetry</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&display=swap" rel="stylesheet">
  
  <!-- Styles & Icons -->
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="images/logo.png" />
  <link rel="apple-touch-icon" href="images/logo.png" />

  <!-- SEO -->
  <meta name="google-site-verification" content="soceiczGrFx4It0-P5sYiqRyMMycbq-GsCQ3yOh84hY" />
  <meta name="description" content="A platform for sharing emotions, inspiring creativity, and conveying messages through the beauty of words. From poems to quotes, reflections, and thoughts, itâ€™s designed to give readers a place of comfort, inspiration, and reflection." />
  <meta name="keywords" content="Volant Poetry, Rence Blunt, poems, quotes, reflections, emotions, creative writing, poetry website, inspirational poetry, Ghana poet, African poetry, literary art" />

  <!-- Open Graph -->
  <meta property="og:title" content="Volant Poetry" />
  <meta property="og:description" content="A platform for sharing emotions, inspiring creativity, and connecting people through the beauty of words." />
  <meta property="og:image" content="https://volantpoetry.github.io/images/logo.png" />
  <meta property="og:url" content="https://volantpoetry.github.io/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Volant Poetry" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Volant Poetry" />
  <meta name="twitter:description" content="A platform for sharing emotions, inspiring creativity, and connecting people through the beauty of words." />
  <meta name="twitter:image" content="https://volantpoetry.github.io/images/logo.png" />

  <!-- Sitemap & Canonical -->
  <link rel="canonical" href="https://volantpoetry.github.io/" />
  <link rel="sitemap" type="application/xml" title="Sitemap" href="https://volantpoetry.github.io/sitemap.xml" />

  <link rel="author" href="https://volantpoetry.github.io/about.html">
  <!-- Structured Data -->
<!-- WebSite Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Volant Poetry",
  "url": "https://volantpoetry.github.io",
  "description": "A platform for sharing emotions, inspiring creativity, and connecting readers through the beauty of words.",
  "publisher": {
    "@type": "Organization",
    "name": "Volant Poetry",
    "url": "https://volantpoetry.github.io"
  },
  "sameAs": [
    "https://github.com/renceblunt",
    "https://volantpoetry.github.io"
  ],
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://volantpoetry.github.io/search?query={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

<!-- Organization Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Volant Poetry",
  "url": "https://volantpoetry.github.io",
  "logo": "https://volantpoetry.github.io/images/logo.png",
  "founder": {
    "@type": "Person",
    "name": "Rence Blunt",
    "image": "https://volantpoetry.github.io/images/renceblunt.jpg"
  },
  "description": "A platform for sharing emotions, inspiring creativity, and connecting readers through the beauty of words.",
  "sameAs": [
    "https://github.com/renceblunt",
    "https://volantpoetry.github.io"
  ]
}
</script>
  <style>/* Recent Poems Container */

/* Individual Poem Card */
.recent-poem-card {
  background: linear-gradient(160deg, #fdf6f0, #e2e9f0);
  color: #4b3f2f;
}

/* Read More / Show Less */
.read-more-btn {
  background: none;
  border: none;
  color: #960606;
  cursor: pointer;
  padding: 0;
  font-size: 0.92rem;
  font-weight: 500;
  margin-bottom: 10px;
}
.read-more-btn:hover { color: #ff0000; }

/* Poem Categories */
.poem-category-line em,
.poem-category {
  font-size: 0.7rem;    /* bigger category text */
  font-style: italic;
  color:  #B8860B;}

#links-container ul {
  list-style: none;        
  padding: 0;
  max-width: 750px;        
  margin-left: 80px;       /* shifts the list to the right */
}


#links-container li {
  margin-bottom: 12px;
  padding: 10px 15px;
  background: #f7f5ff;    
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: transform 0.2s, box-shadow 0.2s;
}

#links-container li:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

#links-container a {
  color: #4b2aad;
  text-decoration: none;
  font-weight: 500;
  font-size: 1rem;
}

#links-container a:hover {
  text-decoration: underline;
}

#links-container div {
  font-size: 0.85rem;
  color: #555;
  margin-left: 10px;
  font-style: italic;
}
/* LINKS TAB PARAGRAPH */
#links p {
  font-size: 1rem;
  color: #333;              /* dark text for readability */
  margin-bottom: 12px;      /* space between paragraph and links */
  text-align: left;         /* align text to the left */
  font-weight: 500;
  line-height: 1.5;
  font-family: 'Inter', sans-serif;
   margin-left: 85px;        /* moves it slightly to the right */
}

/* SMALL SCREEN STYLING FOR LINKS TAB */
@media (max-width: 768px) {
  #links-container ul {
    max-width: 95%;      /* allow full width on small screens */
    margin-left: 10px;    /* smaller shift to the right */
    padding: 0;
  }

  #links-container li {
    padding: 8px 12px;    /* slightly smaller padding */
    flex-direction: column; /* stack title and author vertically */
    align-items: flex-start; 
  }

  #links-container a {
    font-size: 0.95rem;   /* slightly smaller text */
  }

  #links-container div {
    font-size: 0.8rem;
    margin-left: 0;       /* remove extra left margin on small screens */
    margin-top: 4px;      /* small spacing above author */
  }

  /* Paragraph above the list */
  #links p {
    margin-left: 25px;    /* smaller left shift */
    font-size: 0.95rem;
  }
}

/* Featured Poems Styling */
.featured-poem-card {
  background: linear-gradient(160deg, #fdf6f0, #e2e9f0);
  color: #4b3f2f;
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  margin-bottom: 15px;
  white-space: pre-wrap;
    padding: 15px 20px 15px 50px; /* top, right, bottom, left padding to move content right */
}

.featured-poem-card .title {
  font-family: 'Playfair Display', serif;
  font-size: 1.6rem;
  font-weight: 700;
  color: #4b2aad; /* Title color */
  margin-bottom: 6px;
}

.featured-poem-card .author {
  font-family: 'Inter', sans-serif;
  font-size: 0.95rem;
  font-style: italic;
  color: #B8860B; /* Author color */
  margin-bottom: 10px;
}

.featured-poem-card .content {
  font-family: 'Inter', sans-serif;
  font-size: 1rem;
  color: #4b3f2f; /* Poem text color */
  line-height: 1.6;
}

/* Featured Poems Container */
#featured-poems-container {
  max-width: 85%;      /* reduce width from the right */
  margin-left: 0;      /* keep aligned to the left */
  
  margin-right: auto;  /* optional: pushes it away from the right edge */
}

/* --- Small Screen Adjustments --- */
@media (max-width: 768px) {
  #featured-poems-container {
    max-width: 100% !important;   /* force full width */
    width: 100% !important;
    padding: 0 5px;               /* minimal horizontal padding */
    margin: 0 !important;         /* remove any margin constraints */
  }

  .featured-poem-card {
    width: 100% !important;       /* make each card fill the container */
    padding: 15px 10px 15px 15px; /* reduce left/right padding for more space */
    box-sizing: border-box;       /* ensure padding is included in width */
  }

  .featured-poem-card .title {
    font-size: 1.5rem;            /* slightly larger title for readability */
  }

  .featured-poem-card .author {
    font-size: 0.95rem;
  }

  .featured-poem-card .content {
    font-size: 1rem;
    line-height: 1.5;
  }
}


/* Username styles */
.username-display, .username-sm {
  font-family: 'Cormorant Garamond', serif;
  font-weight: 600;
  font-size: 1.5rem;
  background: linear-gradient(90deg, #5a3cb3, #a67c52); /* soft purple â†’ muted gold */
  background-clip: text;              /* âœ… Standard */
  -webkit-background-clip: text;      /* âœ… For Safari/Chrome */
  -webkit-text-fill-color: transparent;
  letter-spacing: 0.3px;
  font-style: normal;
  transition: all 0.3s ease;
}

.username-display:hover, .username-sm:hover {
  background: linear-gradient(90deg, #6a45d1, #c49b63); /* slightly brighter on hover */
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}


/* Hide logout by default */
.logout-btn {
  display: none;           /* hidden initially */
  margin-top: 5px;         /* spacing below username */
  padding: 6px 12px;
  background: #ff4b4b;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

/* Desktop vs Mobile visibility */
.username-display { display: inline-block; } /* desktop */
.username-sm { display: none; } /* hidden initially */

#logoutBtn { display: none; } /* hide logout initially */

/* Mobile adjustments */
@media (max-width: 768px) {
  .username-display { display: none; } /* hide desktop username */
  .username-sm { display: inline-block; margin-right: 8px; } /* show mobile username */
}


/* --- Mobile Username & Logout Inline --- */
@media (max-width: 768px) {
  .nav-right {
    display: flex;
    align-items: center; /* vertical center */
    gap: 8px;            /* spacing between username & logout */
  }

  #username-display-sm {
    display: inline-block;
    font-size: 1.2rem;   /* slightly bigger font */
    font-weight: 600;
    color: #4b2aad;
    cursor: pointer;
    margin-right: 0;      /* spacing handled by gap */
  }

  #logout-btn {
    display: none;       /* hide initially */
    font-size: 0.5rem;
    font-weight: 500;
    padding: 6px 12px;
    background: #ff4b4b;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    white-space: nowrap;
    transition: background 0.2s;
    width: 6px;            /* force smaller width */
    
  }

  #logout-btn:hover {
    background: #e03b3b;
      width: 40px;           /* smaller hover width */
  padding: 6px 8px;      /* adjust padding to match smaller width */
  }
}

/* --- MOBILE SEARCH ICON --- */
.search-toggle {
  display: none;
  cursor: pointer;
  color: #3a2d60;
  align-items: center;
  justify-content: center;
  padding: 0.6rem;
  border-radius: 50%;
  transition: background 0.25s ease;
}

.search-toggle:hover {
  background: rgba(123, 76, 194, 0.08);
}

/* --- MOBILE SEARCH DROPDOWN (smaller version) --- */
.mobile-search-dropdown {
  position: absolute;
  top: 100%; /* appear just below navbar */
  left: 50%;
  transform: translate(-50%, -10px);
  width: 90%; /* reduced width */
  background: #fff;
  border: 1px solid #eee;
  border-radius: 12px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
  padding: 0.5rem 0.8rem; /* reduced padding */
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s ease;
  z-index: 999;
}

/* When toggled ON */
.mobile-search-dropdown.show {
  opacity: 1;
  transform: translate(-50%, 5px);
  pointer-events: auto;
}

#mobile-search-input {
  width: 90%;
  padding: 0.2rem 0.7rem; /* smaller height */
  border: 1px solid #d9d9d9;
  border-radius: 10px;
  font-family: 'Playfair Display', serif;
  font-size: 0.95rem; /* slightly smaller text */
  transition: all 0.25s ease;
}


#mobile-search-input:focus {
  outline: none;
  border-color: #7b4cc2;
  box-shadow: 0 0 6px rgba(123, 76, 194, 0.3);
}

/* --- RESPONSIVE BEHAVIOR --- */
@media (max-width: 768px) {
  .desktop-search {
    display: none;
  }
  .search-toggle {
    display: flex;
  }
}

/* --- MOBILE ICONS WRAPPER --- */
.mobile-icons {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

/* Hide last poetry gallery item on small screens */
@media (max-width: 768px) {
  #poetry-gallery .gallery-item:last-child {
    display: none;
  }
}

  /* --- Community Section --- */
    .community-section { display: flex; align-items: center; justify-content: space-between; padding: 3rem 5%; background: #fdf6f0; flex-wrap: wrap; gap: 2rem; }
    .community-content { max-width: 500px; }
    .community-content h2 { font-family: 'Playfair Display', serif; font-size: 2rem; color: #4b2aad; }
    .community-content p { font-size: 1rem; line-height: 1.5; margin: 1rem 0; }
    .community-image img { max-width: 400px; height: auto; border-radius: 12px; }

.author {
  display: block;

 color: #B8860B; /* Author color */;            /* soft gray tone for readability */
  font-style: italic;     /* elegant literary feel */
  font-size: 54rem;     /* slightly smaller than poem text */
  margin-top: -6px;       /* moves it up closer to title */
  margin-bottom: 1rem;    /* adds subtle space before poem starts */
}

/* Reduce logo text size on small screens */
@media (max-width: 768px) {
  .logo-text {
    font-size: 1.1rem; /* smaller text on tablets */
  }
}
@media (max-width: 480px) {
  .logo-text {
    font-size: 0.80rem; /* even smaller on small phones */
  }
}

/* Adjust login button/link size for small screens */
@media (max-width: 768px) {
  #login-link {
    font-size: 0.8rem;
    padding: 4px 8px;
  }
}

@media (max-width: 480px) {
  #login-link {
    font-size: 0.7rem;
    padding: 3px 6px;
  }
}


</style>

</head>
<body>

<header>
  <nav>
    <div class="logo">
      <img src="images/logo.png" alt="Volant Poetry Logo" class="nav-logo-img">
      <span class="logo-text">
        <span class="logo-highlight">Volant</span> Poetry
      </span>
    </div>


 <div class="search-container">
  <input id="global-search-input" type="text" placeholder="Search poems, authors..." />
</div>

    <div class="nav-links" id="nav-links">
      <span class="close-btn" id="close-btn">âœ•</span>
      <a href="index.html">Home</a>
      <a href="poems.html">Poems</a>
      <a href="about.html">About</a>
       <a href="contact.html">Contact Us</a> <!-- âœ… New link -->
        <a href="user-profile.html">My Profile</a>
          <a href="all-categories.html" class="mobile-only">Categories</a> <!-- Mobile only -->
    </div>
<div class="nav-right">
  <!-- Desktop username display -->
<!-- Desktop & Mobile username -->
<span id="username-display" class="username-display"></span>
<span id="username-display-sm" class="username-sm"></span>

<!-- Logout button (desktop + mobile) -->
<button id="logout-btn" class="logout-btn">Logout</button>


  <!-- Mobile username display (before search toggle) -->
  <span id="username-display-sm" class="username-sm"></span>

  <!-- Login / Logout -->
  <a href="users-login.html" id="login-link">Login</a>
  <button id="logoutBtn">Logout</button>

  <!-- Search toggle -->
<!-- Mobile Icons -->
    <div class="mobile-icons">
      <div class="search-toggle" id="search-toggle">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" fill="none"
          stroke="currentColor" stroke-width="1.7" stroke-linecap="round"
          stroke-linejoin="round" viewBox="0 0 24 24">
          <path
            d="M10.5 3a7.5 7.5 0 015.9 12.09l3.7 3.7a1 1 0 01-1.42 1.42l-3.7-3.7A7.5 7.5 0 1110.5 3z" />
        </svg>
      </div>
      <div class="menu-toggle" id="menu-toggle">â˜°</div>
    </div>
  </div>
</nav>

<!-- ðŸŒ¸ MOBILE SEARCH DROPDOWN -->
<div class="mobile-search-dropdown" id="search-dropdown">
  <input
    type="text"
    id="mobile-search-input"
    placeholder="Search poems, authors, or categories..."
    autocomplete="off"
  />
</div>

  </nav>
</header>

<!-- HERO -->
<section class="hero">
  <div class="hero-left">
    <img src="images/logo.png" alt="Volant Poetry Logo" class="hero-logo">
  </div>
  <div class="hero-right">
    <h1>Volant<br><span>Poetry</span></h1>
  </div>
  <div class="hero-line-content">
    <p>Discover poetry that breathes life, emotion, and meaning.<br>Volant Poetry is where words take flight.</p>
    <a href="poems.html" class="cta-btn">Explore Poems</a>
  </div>
</section>

<!-- TABS SECTION -->
<!-- TABS SECTION -->
<section class="tabs-section">
  <div class="tabs-nav">
    <button class="tab-btn" data-tab="recent">Recent Poems</button>
    <button class="tab-btn" data-tab="links">Links</button>
    <button class="tab-btn" data-tab="featured">Featured Poems</button>
    <button class="tab-btn" data-tab="weekly">Weekly Highlights</button>
    <button class="tab-btn" data-tab="rank-poems">Ranking Poems</button>
    <button class="tab-btn" data-tab="rank-poets">Ranking Poets</button>
    <button class="tab-btn" data-tab="submit">Submit</button>
  </div>

  <div class="tab-content-container">
    <!-- RECENT POEMS -->
    <div class="tab-content active" id="recent">
      <div id="recent-poems-container" class="recent-poems-container"></div>
      <div style="text-align: center; margin-top: 15px;">
        <button id="load-more-poems" style="padding: 8px 16px; border: none; background: #333; color: #fff; border-radius: 5px; cursor: pointer; display: none;">
          Load More
        </button>
      </div>
    </div>

    <!-- LINKS TAB -->
    <div class="tab-content" id="links">
      <p>Click on a poem title to read it:</p>
      <div id="links-container"></div>
    </div>

    <!-- FEATURED POEMS -->
    <div class="tab-content" id="featured">
      <div id="featured-poems-container" class="recent-poems-container"></div>
      <div style="text-align: center; margin-top: 15px;">
        <button id="load-more-featured" style="padding: 8px 16px; border: none; background: #4b2aad; color: #fff; border-radius: 5px; cursor: pointer; display: none;">
          Load More
        </button>
      </div>
    </div>

    <!-- WEEKLY HIGHLIGHTS -->
    <div class="tab-content" id="weekly">
      <h3>Poem of the Week</h3>
      <a href="poem-of-the-week.html" class="weekly-link">Read Poem of the Week</a>

      <h3 style="margin-top: 2rem;">Quote of the Week</h3>
      <a href="quote-of-the-week.html" class="weekly-link">View Quote of the Week</a>
    </div>

    <!-- RANKING POEMS -->
   <!-- RANKING POEMS -->
<div class="tab-content" id="rank-poems">
  <h3>Ranking Poems</h3>
  <p>These poems are ranked based on popularity: views, likes, and comments combined.</p>

  <!-- Container for ranked poems -->
  <ul id="ranking-poems-list" style="list-style: none; padding: 0; margin-top: 15px;">
    <!-- JS will dynamically append <li> items here -->
  </ul>
</div>

<!-- RANKING POETS -->
<div class="tab-content" id="rank-poets">
  <h3>Ranking Poets</h3>
  <p>Discover poets rising in popularity within our vibrant community.</p>
  <div id="ranking-poets-container"></div> <!-- IMPORTANT -->
</div>


    <!-- SUBMIT -->
    <div class="tab-content" id="submit">
      <h3>Submit Your Work</h3>
      <p>Share your poetry with the world. Join Volant Poetry today.</p>
      <a href="submitpoems.html" class="cta-btn">Submit a Poem</a>
    </div>
  </div>
</section>


    <div id="poem-categories-container" style="display: none;">
  <h4 class="categories-title">Categories</h4>
  <div id="poem-categories"></div>
</div>

<!-- ðŸŒ¿ JOIN COMMUNITY SECTION -->
<section class="community-section">
  <div class="community-content">
    <h2>Join the Volant Poetry Community</h2>
    <p>Be part of a world where words take flight.  
    Share your poems, connect with fellow poets, and celebrate creativity every day.</p>
    <a href="users-signup.html" class="join-btn">Join the Community</a>
  </div>
  <div class="community-image">
    <img src="images/community-art.png" alt="Poetry Community">
  </div>

</section>

<!-- ðŸ–¼ï¸ POETRY IN MOTION GALLERY -->
<!-- ðŸ–¼ï¸ DYNAMIC POETRY GALLERY -->
<section class="gallery-section">
  <h2>Poetry in Motion</h2>
  <div class="poetry-gallery" id="poetry-gallery">
    <!-- Poems will load dynamically from Firestore -->
  </div>
</section>


<footer>
  &copy; 2025 Volant Poetry. All Rights Reserved.
</footer>

  <!-- Scripts -->
  <script type="module" src="script.js"></script>

<!-- SCRIPT TO POPULATE LINKS TAB AND FEATURED POEMS -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, getDocs, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyC4DHI8aBVY4JjTvJ-r-TGIDPsewtEWxzU",
  authDomain: "silent-depth.firebaseapp.com",
  projectId: "silent-depth",
  storageBucket: "silent-depth.appspot.com",
  messagingSenderId: "78008755450",
  appId: "1:78008755450:web:3fd0f0f298a08820935543"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// --- Load Recent Poems Links ---
async function loadRecentPoemsLinks() {
  try {
    const colRef = collection(db, "recentPoems");
    const snapshot = await getDocs(colRef);
    if (snapshot.empty) return;

    const container = document.getElementById("links-container");
    const loadMoreBtn = document.getElementById("load-more-poems");

    // Map docs to structured poems
    const poems = await Promise.all(snapshot.docs.map(async docSnap => {
      const data = docSnap.data();
      let username = "Anonymous";

      if (data.userId) {
        try {
          const userDoc = await getDoc(doc(db, "users", data.userId));
          if (userDoc.exists()) username = userDoc.data().username || "Anonymous";
        } catch (err) {
          console.warn("Failed to fetch username:", err);
        }
      }

      return {
        title: data.title || "Untitled",
        slug: data.slug || (data.title ? data.title.toLowerCase().replace(/\s+/g, "-") : docSnap.id),
        username
      };
    }));

    // Shuffle poems
    for (let i = poems.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [poems[i], poems[j]] = [poems[j], poems[i]];
    }

    const INITIAL_COUNT = 15;
    let displayedCount = 0;

    function renderPoems(count) {
      const slice = poems.slice(displayedCount, displayedCount + count);

      // Create or append to <ul>
      let ul = container.querySelector("ul");
      if (!ul) {
        ul = document.createElement("ul");
        ul.style.listStyle = "disc inside";
        ul.style.padding = "0";
        ul.style.marginTop = "10px";
        container.appendChild(ul);
      }

      slice.forEach(poem => {
        const li = document.createElement("li");
        li.style.marginBottom = "12px";
        li.style.padding = "10px 15px";
        li.style.background = "#f7f5ff";
        li.style.borderRadius = "10px";
        li.style.boxShadow = "0 2px 6px rgba(0,0,0,0.05)";
        li.style.display = "flex";
        li.style.justifyContent = "space-between";
        li.style.alignItems = "center";

        const a = document.createElement("a");
        a.href = `poem.html?slug=${poem.slug}`;
        a.textContent = poem.title;
        a.style.color = "#4b2aad";
        a.style.textDecoration = "none";
        a.onmouseover = () => a.style.textDecoration = "underline";
        a.onmouseout = () => a.style.textDecoration = "none";

        const byLine = document.createElement("div");
        byLine.textContent = `by ${poem.username}`;
        byLine.className = "author";

        li.appendChild(a);
        li.appendChild(byLine);
        ul.appendChild(li);
      });

      displayedCount += slice.length;

      // Show button only if there are more poems
      if (displayedCount < poems.length) {
        loadMoreBtn.style.display = "inline-block";
      } else {
        loadMoreBtn.style.display = "none";
      }
    }

    // Initially render first 15 poems
    renderPoems(INITIAL_COUNT);

    // Load more on button click (5 at a time)
    loadMoreBtn.addEventListener("click", () => renderPoems(5));

  } catch (err) {
    console.error("Error loading recent poem links:", err);
  }
}

// --- Load Featured Poems ---
async function loadFeaturedPoems() {
  try {
    const snapshot = await getDocs(collection(db, "classicPoems"));
    if (snapshot.empty) return;

    const featuredContainer = document.getElementById("featured-poems-container");
    const loadMoreBtn = document.getElementById("load-more-featured");

    const poems = snapshot.docs.map(docSnap => {
      const data = docSnap.data();
      return {
        title: data.title || "Untitled",
        author: data.authorName || "Anonymous",
        content: data.content || ""
      };
    });

    const INITIAL_COUNT = 15;
    let displayedCount = 0;

    function renderPoems(count) {
      const slice = poems.slice(displayedCount, displayedCount + count);
      slice.forEach(poem => {
        const poemCard = document.createElement("div");
        poemCard.className = "featured-poem-card";

        const title = document.createElement("h4");
        title.textContent = poem.title;
        title.className = "title";

        const author = document.createElement("p");
        author.textContent = `by ${poem.author}`;
        author.className = "author";

        const content = document.createElement("p");
        content.textContent = poem.content;
        content.className = "content";

        poemCard.appendChild(title);
        poemCard.appendChild(author);
        poemCard.appendChild(content);

        featuredContainer.appendChild(poemCard);
      });

      displayedCount += slice.length;

      // Show "Load More" only if there are more poems
      if (displayedCount < poems.length) {
        loadMoreBtn.style.display = "inline-block";
      } else {
        loadMoreBtn.style.display = "none";
      }
    }

    // Initially render first 15 poems
    renderPoems(INITIAL_COUNT);

    // Load more on button click
    loadMoreBtn.addEventListener("click", () => renderPoems(5)); // Load 5 more at a time
  } catch (err) {
    console.error("Error loading featured poems:", err);
  }
}


document.addEventListener("DOMContentLoaded", () => {
  loadRecentPoemsLinks();
  loadFeaturedPoems();
});
</script>


<script>
  const menuToggle = document.getElementById("menu-toggle");
  const navLinks = document.getElementById("nav-links");
  const closeBtn = document.getElementById("close-btn");
  const searchToggle = document.getElementById("search-toggle");
  const searchDropdown = document.getElementById("search-dropdown");

  menuToggle.addEventListener("click", () => navLinks.classList.add("show"));
  closeBtn.addEventListener("click", () => navLinks.classList.remove("show"));
  searchToggle.addEventListener("click", () => searchDropdown.classList.toggle("show"));

  document.addEventListener("click", (e) => {
    if (!searchDropdown.contains(e.target) && !searchToggle.contains(e.target)) {
      searchDropdown.classList.remove("show");
    }
  });

  // Tab switching
  const tabBtns = document.querySelectorAll(".tab-btn");
  const tabContents = document.querySelectorAll(".tab-content");

  tabBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      tabBtns.forEach(b => b.classList.remove("active"));
      tabContents.forEach(c => c.classList.remove("active"));

      btn.classList.add("active");
      document.getElementById(btn.dataset.tab).classList.add("active");
    });
  });
</script>

</body>
</html>

